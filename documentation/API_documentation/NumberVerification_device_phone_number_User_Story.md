# Number Verification Share Device Phone Number API User Story

| **Item** | **Details** |
| ---- | ------- |
| ***Summary*** | As an application developer, I want to retrieve the phone number associated with a mobile connection. I use client credentials to authenticate and provide e.g. the IP address of the mobile connection. |
| ***Actors and Scope*** | **Actors:** Application service provider (ASP), ASP:User, ASP: BusinessManager, ASP:Administrator, Channel Partner, End-User, Communication Service Provider (CSP). <br>**Scope:**  <br>-Returns the phone number associated with the access token so the ASPs can get the phone number and verify it themselves.|
| ***Pre-conditions*** |The preconditions are listed below:<br><ol><li>The ASP:BusinessManager and ASP:Administrator have been onboarded to the CSP's API platform via (or not) a Channel Partner.</li><li>The ASP:BusinessManager has successfully subscribed to the Number Verification product from the CSP's product catalog via (or not) a Channel Partner.</li><li>The ASP:Administrator has onboarded the ASP:User to the CSP API platform via (or not) a Channel Partner.</li><li>The ASP:User performs an authorization request to CSP.</li><li> The CSP checks access & End-User approval then provide access token to the ASP:User </li><li> The ASP:User get the access token, via (or not) the Channel Partner, based on network or SIM authentication to ensure secure access of the API.|
| ***Activities/Steps*** | **Starts when:** The ASP:User makes a POST request via the number verification API. This request could be done via (or not) the Channel Partner.<br>**Ends when:** The CSP's Number Verification Server answers providing the phone number corresponding to the one of the end-user's device from which the request was triggered. The ASP:User can check if this number corresponds to the one keyed by the End-User.|
| ***Post-conditions*** | The ASP:User could continue offering its service to the End-User with the confirmation of the End-User phone number.  |
| ***Exceptions*** | Several exceptions might occur during the Number Verification API operations<br>- Unauthorized: Not valid credentials (e.g. use of already expired access token).<br>- Invalid input: Not valid input data to invoke operation (e.g. phone number without the '+' prefix).<br>- Not able to provide: Client authentication was not performed neither via mobile network nor via a SIM-based temporary token. Not working on mobile hotspot (tethering) neither Wifi nor VPN mobile connections|